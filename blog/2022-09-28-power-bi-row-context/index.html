<!DOCTYPE html>
<html lang="en"><head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1"><!-- Begin Jekyll SEO tag v2.7.1 -->
<title>Power BI Fundaments: Part 1 - Row Context | Ethan Guyant’s Blog</title>
<meta name="generator" content="Jekyll v4.2.1" />
<meta property="og:title" content="Power BI Fundaments: Part 1 - Row Context" />
<meta name="author" content="Ethan Guyant" />
<meta property="og:locale" content="en_US" />
<meta name="description" content="Explore the concept of context within Power BI. What is evaluation context, row context, and filter context. This part one of a series will dive into Power BI’s row context to better understand how and when it is invoked, and the implications of it." />
<meta property="og:description" content="Explore the concept of context within Power BI. What is evaluation context, row context, and filter context. This part one of a series will dive into Power BI’s row context to better understand how and when it is invoked, and the implications of it." />
<link rel="canonical" href="http://ethanguyant.com/blog/2022-09-28-power-bi-row-context/" />
<meta property="og:url" content="http://ethanguyant.com/blog/2022-09-28-power-bi-row-context/" />
<meta property="og:site_name" content="Ethan Guyant’s Blog" />
<meta property="og:image" content="http://ethanguyant.com/assets/img/post_img/powerbi_fundamentals_part1.jpg" />
<meta property="og:type" content="article" />
<meta property="article:published_time" content="2022-09-28T00:00:00+00:00" />
<meta name="twitter:card" content="summary_large_image" />
<meta property="twitter:image" content="http://ethanguyant.com/assets/img/post_img/powerbi_fundamentals_part1.jpg" />
<meta property="twitter:title" content="Power BI Fundaments: Part 1 - Row Context" />
<script type="application/ld+json">
{"author":{"@type":"Person","name":"Ethan Guyant"},"description":"Explore the concept of context within Power BI. What is evaluation context, row context, and filter context. This part one of a series will dive into Power BI’s row context to better understand how and when it is invoked, and the implications of it.","url":"http://ethanguyant.com/blog/2022-09-28-power-bi-row-context/","image":"http://ethanguyant.com/assets/img/post_img/powerbi_fundamentals_part1.jpg","@type":"BlogPosting","headline":"Power BI Fundaments: Part 1 - Row Context","dateModified":"2022-09-28T00:00:00+00:00","datePublished":"2022-09-28T00:00:00+00:00","mainEntityOfPage":{"@type":"WebPage","@id":"http://ethanguyant.com/blog/2022-09-28-power-bi-row-context/"},"@context":"https://schema.org"}</script>
<!-- End Jekyll SEO tag -->
<title>Ethan Guyant's Blog</title>
  <!-- Normalize CSS file irons out some difference between browsers -->
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/normalize/7.0.0/normalize.min.css">
  <!-- Google Fonts-->
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css?family=Source+Code+Pro:400,900|Source+Sans+Pro:300,900&display=swap" rel="stylesheet">
  <link href="https://fonts.googleapis.com/css2?family=Arvo:wght@700&display=swap" rel="stylesheet">
  <!-- CSS Styles -->
  <link rel="stylesheet" href="/assets/main.css">
  <link rel="stylesheet" href="/assets/css/style.css">
  <link rel="stylesheet" href="/assets/css/notebook_default.css">
  <link rel="stylesheet" href="/assets/css/notebook_custom.css">
  <script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/latest.js?config=TeX-AMS_HTML"></script>
  <!-- MathJax configuration -->
  <script type="text/x-mathjax-config">
    MathJax.Hub.Config({
        tex2jax: {
            inlineMath: [ ['$','$'], ["\\(","\\)"] ],
            displayMath: [ ['$$','$$'], ["\\[","\\]"] ],
            processEscapes: true,
            processEnvironments: true
        },
        // Center justify equations in code and markdown cells. Elsewhere
        // we use CSS to left justify single line equations in code cells.
        displayAlign: 'center',
        "HTML-CSS": {
            styles: {'.MathJax_Display': {"margin": 0}},
            linebreaks: { automatic: true }
        }
    });
  </script>
  <!-- Animation on Scroll-->
  <link rel="stylesheet" href="https://unpkg.com/aos@next/dist/aos.css" />
  <!-- Font Awesome Kit -->
  <script src="https://kit.fontawesome.com/c9965d23bb.js" crossorigin="anonymous"></script><link type="application/atom+xml" rel="alternate" href="http://ethanguyant.com/feed.xml" title="Ethan Guyant's Blog" /><script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-7356875210051999"
  crossorigin="anonymous">
  </script>
  
    <!-- Google tag (gtag.js) -->
<script async src="https://www.googletagmanager.com/gtag/js?id=G-RTFP0V6X0G"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'G-RTFP0V6X0G');
</script>
  
</head>
<body><header class="header sticky">
    <div class="wrapper">
        <div>
            <div class="scroll-logo"> 
                <a href="/">  
                    <svg id="EG" viewBox="0 0 152 216">
                        <g>
                            <path id="hex"d="M 76.342 4 L 147.685 41.377 L 147.685 116.13 L 76.342 153.506 L 5 116.13 L 5 41.377 Z" style="stroke-width: 8.37394px; fill-opacity: 0; fill: none; stroke: #39ace7;"></path>         
                            <polygon class="logo"style="stroke-width: 3.58883px; stroke: #39ace7; fill: #39ace7;" points="41.001 38.501 112.012 38.501 112.012 62.884 97.474 62.884 97.474 54.976 41.001 54.976"></polygon>
                            <polygon class="logo" style="stroke-width: 3.58883px; stroke: #39ace7; fill: #39ace7;" points="40.671 102.9 97.81 102.9 97.81 86.796 83.604 86.796 83.604 70.701 112.014 70.701 112.014 102.92 112.014 119.004 40.939 119.004"></polygon>
                            <polygon class="logo" style="stroke-width: 3.58883px; stroke: #39ace7; fill: #39ace7;" points="41.001 70.701 69.753 70.701 63.532 87.725 41.317 87.725"></polygon>
                        </g> 
                    </svg>
                </a>
            </div>

            <div class="header__title">
                <a href="/">EthanGuyant.com</a>
            </div>
            
        </div>
        
        <div class="nav__menu">
            <div class="nav__toggle">
                <div class="nav__icon">
                    <span></span>
                </div>
            </div>
        </div>
        <div class="nav__menu__wrapper">
            <ul class="nav__menu__list">
                <li class="nav__menu__list__item">
                    <a href="/" class="nav__menu__list__item__link">Home</a>
                </li>
                <li class="nav__menu__list__item">
                    <a href="/blog" class="nav__menu__list__item__link">Blog</a>
                </li>
                <li class="nav__menu__list__item">
                    <a href="/about" class="nav__menu__list__item__link">About</a>
                </li>
                <li class="nav__menu__list__item">
                    <a href="/category/project/" class="nav__menu__list__item__link">Projects</a>
                </li>
            </ul>
        </div>
    </div>
</header><main class="page" aria-label="Content">
      <div class="page__content">
        <section class="blog__header">
    <div class="blog__img">
      <div class="blog__img__over"></div>
    </div>
    <div class="wrapper">
      <h1 class="blog__title"><span class="inquisitive">INQUISITIVE</span> <span class="nature">NATURE</span></h1>
      <p class="blog__subtitle">Learn  Explore  <strong>Share</strong></p>
      <p class="post__categories">
    </div>
  </section><div class="wrapper">
  <article class="post h-entry" itemscope itemtype="http://schema.org/BlogPosting">
    <section class="article__header">
        <h1 class="post-title p-name" itemprop="name headline">Power BI Fundaments: Part 1 - Row Context</h1>
        <p class="post-meta">
          <time class="dt-published" datetime="2022-09-28T00:00:00+00:00" itemprop="datePublished">Sep 28, 2022
          </time>• <span itemprop="author" itemscope itemtype="http://schema.org/Person"><span class="p-author h-card" itemprop="name">Ethan Guyant</span></span></p>
          <p class="post-category">
            Category: 
            <a href="/category/deep-dive">
              <i class="fa-solid fa-folder"></i>
              Deep Dive
            </a> 
          </p>
          <p class="post-tags">
          Tags: 
           
              
              <a href="/tag/microsoft-365">
                <i class="fa-solid fa-tag"></i>
                Microsoft 365
              </a> 
              
              <a href="/tag/power-bi">
                <i class="fa-solid fa-tag"></i>
                Power BI
              </a> 
              
              <a href="/tag/power-platform">
                <i class="fa-solid fa-tag"></i>
                Power Platform
              </a> 
              
              <a href="/tag/power-bi-fundamentals-series">
                <i class="fa-solid fa-tag"></i>
                Power BI Fundamentals Series
              </a> 
            
          
        </p>
    </section>
    <div class="post-content e-content" itemprop="articleBody">
      <p>In order to facilitate analysis and visualization in Power BI, a data model must first be created. The data model will consist of individual data tables, relationships between the tables, and calculations to aid in the analysis. Calculations typically come in the form of either calculated columns or measures.</p>

<p>A few key differences between calculated columns and measures include:</p>

<table>
  <thead>
    <tr>
      <th style="text-align: center">Calculated Columns</th>
      <th style="text-align: center">Measures</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td style="text-align: center">Resolves as a scalar value</td>
      <td style="text-align: center">Resolves as an aggregate value</td>
    </tr>
    <tr>
      <td style="text-align: center">Persists in each row of a table</td>
      <td style="text-align: center">Displays as a data point</td>
    </tr>
    <tr>
      <td style="text-align: center">Increases the size of the data model</td>
      <td style="text-align: center">Does not impact the size of the data model</td>
    </tr>
  </tbody>
</table>

<p>When a DAX expression is evaluated the values the expression can access are limited by the evaluation context. When a calculated column or measure is evaluated there are two fundamental types of evaluation context: (1) Filter Context, and (2) Row Context.</p>

<p>This post is the first of a series focused on the key fundamentals of Power BI. This first post will focus on the concept of row context. Parts 2-4 in the series will focus on iterator functions, filter context, and context transition.</p>

<p><br /></p>

<hr />

<p><br /></p>

<h2 id="understanding-row-context">Understanding Row Context</h2>
<p>The row context limits a DAX expression during evaluation to only the current row, the reference to each specific row is defined by the row context. However, it should be noted that all standard aggregation functions (e.g. <code class="language-plaintext highlighter-rouge">SUM()</code>, <code class="language-plaintext highlighter-rouge">COUNT()</code>, <code class="language-plaintext highlighter-rouge">MAXIMUM()</code>, <code class="language-plaintext highlighter-rouge">MINIMUM()</code>) will override this default behavior and impose a filter context on the entire table.</p>

<p>Row context exists when:</p>
<ul>
  <li>Creating calculated columns within a table</li>
  <li>Creating iterators, see Part 2 for more details on iterator functions</li>
</ul>

<p>Using Excel as an example, multiplying the values in two cells can be achieved with the formula <code class="language-plaintext highlighter-rouge">=A2 * B2</code>. The key difference is that when performing calculations in Excel the formula contains a reference to a <em>cell</em> defined by column <code class="language-plaintext highlighter-rouge">A</code> and row <code class="language-plaintext highlighter-rouge">2</code> however, in DAX there is no reference to a cell. Rather a calculation is carried out column by column <code class="language-plaintext highlighter-rouge">[A] * [B]</code>. DAX operates on columns and tables and it is the row context that provides the required row information for the calculation to be carried out.</p>

<p>The above multiplication <code class="language-plaintext highlighter-rouge">[A] * [B]</code> performs the desired calculation row-by-row through the entire table. This row-by-row functionality makes the row context similar to an iterator.</p>

<blockquote>
  <p>The row context means iterating over the table or for each row the calculation being conducted is limited to just the current row.</p>
</blockquote>

<p>See Part 2 for more details on iterator functions.</p>

<p><br /></p>

<hr />

<p><br /></p>

<h2 id="creating-a-calculated-column">Creating a Calculated Column</h2>
<p>As mentioned above, row context is invoked while creating a new calculated column. As an example, a new <code class="language-plaintext highlighter-rouge">SalesAmount</code> calculated column will be added to a SalesOrderDetail table. The example data and Power BI file can be found here (<a class="social-list__link" href="https://github.com/EMGuyant/power-bi-key-fundamentals"><i class="fab fa-github"></i> GitHub</a>).</p>

<p><code class="language-plaintext highlighter-rouge">SalesAmount = SalesOrderDetail[OrderQty] * SalesOrderDetail[UnitPrice] * (1 - SalesOrderDetail[UnitPriceDiscount])</code></p>

<p>While entering the above formula, after starting to type the column names in the formula bar (e.g. <code class="language-plaintext highlighter-rouge">OrderQty</code>, <code class="language-plaintext highlighter-rouge">UnitPrice</code>, and <code class="language-plaintext highlighter-rouge">UnitPriceDiscount</code>) it can be seen that IntelliSense can recognize and reference the corresponding columns in the <code class="language-plaintext highlighter-rouge">SalesOrderDetail</code> table (e.g. <code class="language-plaintext highlighter-rouge">SalesOrderDetail[OrderQty]</code>)</p>

<p><img src="/assets/img/2022-09-30-power-bi-row-context/row_context_001.gif" alt="Creating a calculated column gif" class="post__img" /></p>

<p>Within the <code class="language-plaintext highlighter-rouge">SalesAmount</code> expression, only the column names are specified, however, since this is creating a calculated column the row context is available. This means that during the evaluation of the expression <code class="language-plaintext highlighter-rouge">SalesOrderDetail[OrderQty]</code> does not reference the entire column but rather the <code class="language-plaintext highlighter-rouge">OrderQty</code> value for the specific row within the scope of the calculation. This allows the new <code class="language-plaintext highlighter-rouge">SalesAmount</code> column to use the correct values when it is calculated row-by-row.</p>

<p>Viewing the new <code class="language-plaintext highlighter-rouge">SalesAmount</code> column shows that the values are calculated for each row in the table. This is because row context means to iterate over each row of the table and perform the calculation for the specific row that is in the current scope.</p>

<p><img src="/assets/img/2022-09-30-power-bi-row-context/calculated_column_salescolumn.png" alt="Table of NetSaleAmount Values" class="post__img" /></p>

<p>The new calculated column can then be utilized in creating a new measure, <code class="language-plaintext highlighter-rouge">TotalSalesAmount</code></p>

<p><code class="language-plaintext highlighter-rouge">TotalSalesAmount = SUM(SalesOrderDetail[SalesAmount])</code></p>

<p><img src="/assets/img/2022-09-30-power-bi-row-context/total_measures.gif" alt="New measure using SalesAmount" class="post__img" /></p>

<p>This new measure can then be included in visuals to summarize the sales data, for example, visualize the total sales by product color or by product name.</p>

<p><img src="/assets/img/2022-09-30-power-bi-row-context/total_sales_measure.png" alt="Total Sales and Sum of SalesAmount" class="post__img" /></p>

<p>The tables above show that the new <code class="language-plaintext highlighter-rouge">TotalSalesAmount</code> measure for each product color/name and the sum of the <code class="language-plaintext highlighter-rouge">SalesAmount</code> calculated column are equal. This highlights that the new measure and the default aggregation (e.g. sum) will produce the same values.</p>

<blockquote>
  <p>Although a default aggregation of <code class="language-plaintext highlighter-rouge">SalesAmount</code> can be used to produce the same values as the measure <code class="language-plaintext highlighter-rouge">TotalSalesAmount</code> it is best practice to use a measure for aggregation and not use default aggregations of a column.</p>
</blockquote>

<p><br /></p>

<hr />

<p><br /></p>

<h2 id="limitation">Limitation</h2>
<p>The method of adding a new calculated column is beneficial for aiding in understanding the impacts and use of the row context. However, a limitation to the approach of creating a column similar to <code class="language-plaintext highlighter-rouge">SalesAmount</code> is that each column created in a data model table increases the data model size because calculated columns are created and stored as columns in the data model when loaded (i.e. the .pbix file is opened or data is refreshed). Due to this, a column like <code class="language-plaintext highlighter-rouge">SalesAmount</code> normally would not be created in the data model, rather a measure can be used which does not increase the size of the overall data model. Measures do not increase the size of the data model because they are calculated in real-time, that is when the measure is used in a visual (table or chart).</p>

<blockquote>
  <p>Best practice is to use measures whenever possible.</p>
</blockquote>

<p>There are certain situations where a measure cannot be used and a calculated column is required. For example, a calculated column is required when the resulting value is to be used as an axis on a visual.</p>

<h3 id="replacing-a-calculated-column-with-a-measure">Replacing a Calculated Column with a Measure</h3>
<p>Replacing the <code class="language-plaintext highlighter-rouge">SalesAmount</code> calculated column with a measure may seem straightforward. Looking at the two formulas below, it is not unreasonable to think that the reference to <code class="language-plaintext highlighter-rouge">SalesOrderDetail[SalesAmount]</code> within the <code class="language-plaintext highlighter-rouge">TotalSalesAmount</code> measure could simply be replaced with <code class="language-plaintext highlighter-rouge">SalesOrderDetail[OrderQty] * SalesOrderDetail[UnitPrice] * (1 - SalesOrderDetail[UnitPriceDiscount])</code> (the formula of the <code class="language-plaintext highlighter-rouge">SalesAmount</code> calculated column).</p>

<p><code class="language-plaintext highlighter-rouge">SalesAmount = SalesOrderDetail[OrderQty] * SalesOrderDetail[UnitPrice] * (1 - SalesOrderDetail[UnitPriceDiscount])</code>
<code class="language-plaintext highlighter-rouge">TotalSalesAmount = SUM(SalesOrderDetail[SalesAmount])</code></p>

<p>However, if you create a new measure (e.g. <code class="language-plaintext highlighter-rouge">TotalSalesAmount2</code>) and start typing <code class="language-plaintext highlighter-rouge">OrderQty</code> IntelliSense will not provide it as an option to select as it did previously when creating the calculated column.</p>

<p><img src="/assets/img/2022-09-30-power-bi-row-context/measure_totalsales2.gif" alt="TotalSales2 new measure" class="post__img" /></p>

<p>The table columns are not available because by default a measure <em>does not</em> have row context. Without the row context Power BI does not know which specific <code class="language-plaintext highlighter-rouge">OrderQty</code> value should be referenced. For creating a measure that requires row context an iterator function will have to be used.</p>

<p>An iterator function can retrieve values from other columns in a table based on the row context, then perform an operation on the column values row-by-row, and finally aggregate the results.</p>

<p>Check back for Part 2 of this series for an exploration of iterators.</p>

<p><br /></p>

<hr />

<p><br /></p>

<p>If you enjoy what you read and find it helpful please check back, and check back often. Follow me on <a class="post__link" href="https://medium.com/@emguyant"><i class="fab fa-medium"></i> Medium</a> while giving a clap to the article! Also don’t forget to subscribe to the <a class="post__link" href="https://medium.com/inquisitive-nature"><b>INQUISITIVE NATURE</b></a> publication.</p>

    </div><a class="u-url" href="/blog/2022-09-28-power-bi-row-context/" hidden></a>
  </article>
</div>
      </div>
    </main><footer class="footer">
    <!-- replace with your own email address 
    <a href="mailto:info@ethanguyant.com" class="footer__link">info@ethanguyant.com</a>-->
    <ul class="social-list">
        <li class="social-list__item">
            <a class="social-list__link" href="mailto:emguyant@gmail.com">
                <i class="fas fa-envelope"></i>
            </a>
        </li>
        <li class="social-list__item">
            <a class="social-list__link" href="https://www.linkedin.com/in/ethan-guyant/">
                <i class="fab fa-linkedin"></i>
            </a>
        </li>
        <li class="social-list__item">
            <a class="social-list__link" href="https://github.com/EMGuyant">
                <i class="fab fa-github"></i>
            </a>
        </li>
        <li class="social-list__item">
            <a class="social-list__link" href="https://medium.com/@emguyant">
                <i class="fab fa-medium"></i>
            </a>
        </li>
        <li class="social-list__item">
            <a class="social-list__link" href="https://medium.com/inquisitive-nature">
                <i class="fa-solid fa-book"></i>
            </a>
        </li>
    </ul>
</footer><script src="https://kit.fontawesome.com/c9965d23bb.js" crossorigin="anonymous"></script>
<script src="/assets/js/script.js"></script>
<script src="https://unpkg.com/aos@next/dist/aos.js"></script>
<script>
  AOS.init();
</script>
</body>

</html>
